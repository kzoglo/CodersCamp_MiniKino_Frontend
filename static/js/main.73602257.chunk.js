(this.webpackJsonpcoderscamp_minikino_frontend=this.webpackJsonpcoderscamp_minikino_frontend||[]).push([[0],Array(25).concat([function(e,t,n){},,,,,,function(e,t,n){e.exports=n(70)},,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(26),s=n.n(i),o=n(11),c=n(3),l=n(4),u=n(6),p=n(5),m=n(7),f=n(13),d=function(e){return window.localStorage.getItem(e)},v=function(e,t){window.localStorage.setItem(e,t)},h=function(){window.localStorage.clear()},w=n(27),g=n(30),b=function(e,t){return t>e},E=function(e,t){return t<=e},y=function(e,t){return e!==t},R=function(e,t){return e===t},k=n(15),N=function(){window.scrollTo({top:0,bahavior:"smooth"})},S=function(e,t){t instanceof Array||(t=[t]),t.forEach((function(t){e.classList.add(t)}))},x=function(e,t){t instanceof Array||(t=[t]),t.forEach((function(t){e.classList.remove(t)}))},j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];x(e,Object(k.a)(t)),S(e,Object(k.a)(n))},O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];j(e,["invisible"].concat(Object(k.a)(t)),["visible"].concat(Object(k.a)(n)))},T=function(e){j(e,["visible"],["invisible"])},I=function(e,t,n){e.setAttribute("disabled",!0),j(e,n,t)},C=function(e,t,n){e.removeAttribute("disabled",!0),j(e,n,t)},z=n(1),W=n.n(z),_=function(e,t){e.push({pathname:"/servererror",state:{err:t}})},M={serverErrMsg:"B\u0142\u0105d serwera. Spr\xf3buj ponownie p\xf3\u017aniej.",concurrentReservErrMsg:"Przepraszamy, miejsce zosta\u0142o ju\u017c zarezerwowane. Od\u015bwie\u017c stron\u0119 i spr\xf3buj ponownie.",validationErrMsg:"Wprowadzono dane w niedozwolonym formacie.",authErrMsg:"Nieprawid\u0142owy email lub has\u0142o.",conflictErrMsg:"Taki u\u017cytkownik ju\u017c istnieje.",badReqErrMsg:"Niepoprawne \u017c\u0105danie. Spr\xf3buj ponownie p\xf3\u017aniej",forbiddenErrMsg:"Nie masz dost\u0119pu do \u017c\u0105danego zasobu.",notFoundErrMsg:"Nie znaleziono \u017c\u0105danego zasobu"},L=function(e){var t=function(e,t){var n=new Error(e);throw n.statusCode=t,n};R(e,200)||R(e,201)||(R(e,400)?t(M.badReqErrMsg,400):R(e,401)?t(M.authErrMsg,e):R(e,403)?t(M.forbiddenErrMsg,e):R(e,404)?t(M.notFoundErrMsg,e):R(e,409)?t(M.conflictErrMsg,e):R(e,422)?t(M.validationErrMsg,e):R(e,500)?t(M.serverErrMsg,e):t(M.serverErrMsg,500))},P="https://mini-kino.herokuapp.com/",A=function(e){var t,n,a,r,i,s,o,c,l;return W.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.path,n=e.body,a=void 0===n?null:n,r=e.contentType,i=void 0===r?"application/json":r,s=e.method,o=void 0===s?"GET":s,c=e.authToken,l=void 0===c?"":c,u.next=3,W.a.awrap(fetch("".concat(P).concat(t),{method:o,headers:{"Access-Control-Allow-Origin":"*","Content-Type":i,Authorization:"Bearer ".concat(l)},body:a}));case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}}))},D=(n(42),function(e){var t=e.loadingText;return r.a.createElement("div",{className:"loading-wrapper"},r.a.createElement("div",null,t),r.a.createElement("div",{className:"loadingDots-outerWrapper"},r.a.createElement("div",{className:"loadingDots-wrapper"},r.a.createElement("div",null," ")," ",r.a.createElement("div",null," ")," ",r.a.createElement("div",null," ")," ",r.a.createElement("div",null," ")," ",r.a.createElement("div",null," "))))});D.defaultProps={loadingText:"Wczytywanie"};var B=D,V=(n(43),function(e){var t=e.src,n=e.alt,a=e.available,i=e.classes;return R(a,!0)||R(a,!1)?r.a.createElement("div",{className:"moviePoster-wrapper"},r.a.createElement("img",{className:"".concat(i," moviePoster-poster"),src:t,alt:n}),r.a.createElement("span",{className:"".concat(R(a,!0)?"moviePoster-available":"moviePoster-unavailable"," moviePoster-availability")},"".concat(R(a,!0)?"Dost\u0119pny":"Niedost\u0119pny"))):R(a,void 0)?r.a.createElement("div",{className:"moviePoster-wrapper"},r.a.createElement("img",{className:"".concat(i," moviePoster-poster"),src:t,alt:n})):void 0});V.defaultProps={classes:""};var F=V,U=(n(44),function(e){var t=e.imageUrl,n=e._id,a=e.title,i=e.available;return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.b,{to:"".concat(ze,"/reservation"),className:"movieLinkWithTitle-wrapper",onClick:function(){return v("movieId",n)}},r.a.createElement(F,{src:"".concat(P).concat(t),alt:a,available:i}),r.a.createElement("p",{className:"movieLinkWithTitle-title","data-movie-id":n},a)))}),Z=(n(47),function(e){var t=e.title,n=e.movies;return r.a.createElement("div",{className:"moviesGroup-wrapper"},r.a.createElement("h1",{className:"moviesGroup-title"},t),r.a.createElement("div",{className:"moviesGroup-list"},function(e){return e.map((function(e,t){var n=e.imageUrl,a=e.title,i=e._id,s=e.available;return r.a.createElement(U,{key:t,imageUrl:n,title:a,available:s,_id:i})}))}(n)))}),H=(n(48),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e))).classifyMovies=function(e){var t=[],n=[];return e.forEach((function(e){E(e.year,(new Date).getFullYear()-1)?t.push(e):n.push(e)})),{newMovies:t,recommendedMovies:n}},n.state={movies:[],recommendedMovies:[],newMovies:[],screenings:[],availableScreenings:[],unavailableScreenings:[]},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e,t,n,a,r,i,s,o,c,l;return W.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return N(),u.prev=1,u.next=4,W.a.awrap(A({path:"api/movie"}));case 4:return e=u.sent,L(e.status),u.next=8,W.a.awrap(e.json());case 8:return t=u.sent,u.next=11,W.a.awrap(this.getScreenings());case 11:n=u.sent,a=this.classifyMovies(t),r=a.newMovies,i=a.recommendedMovies,s=this.checkAvailability(t,n),o=s.available,c=s.unavailable,l=this.addAvailability(o,c,t),this.setState({movies:l,recommendedMovies:i,newMovies:r}),u.next=21;break;case 18:u.prev=18,u.t0=u.catch(1),_(this.props.history,u.t0);case 21:case"end":return u.stop()}}),null,this,[[1,18]])}},{key:"getScreenings",value:function(){var e,t;return W.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,W.a.awrap(A({path:"api/screening"}));case 2:return e=n.sent,L(e.status),n.next=6,W.a.awrap(e.json());case 6:return t=n.sent,n.abrupt("return",t);case 8:case"end":return n.stop()}}))}},{key:"checkAvailability",value:function(e,t){var n=[],a=[];return e.forEach((function(e){t.forEach((function(t){R(e._id,t.movie_id)?n.includes(e._id)||n.push(e._id):a.includes(e._id)||a.push(e._id)}))})),n.forEach((function(e){a.forEach((function(t,n){R(e,t)&&delete a[n]}))})),{available:n,unavailable:a}}},{key:"addAvailability",value:function(e,t,n){var a=[],r=[],i=Object(k.a)(n);return i.forEach((function(t){e.forEach((function(e){R(t._id,e)&&(t.available=!0,a.push(t))}))})),t.forEach((function(e){i.forEach((function(t){r.includes(t)||R(t._id,e)&&(t.available=!1,r.push(t))}))})),[].concat(r,a)}},{key:"render",value:function(){return y(this.state.recommendedMovies.length,0)?r.a.createElement("div",{className:"homepage-wrapper"},r.a.createElement("img",{className:"homepage-img",src:"img/jumanji4.png",alt:"Home"}),r.a.createElement(Z,{title:"POLECANE FILMY",movies:this.state.recommendedMovies}),r.a.createElement(Z,{title:"NOWE FILMY",movies:this.state.newMovies})):r.a.createElement(B,null)}}]),t}(a.Component)),K=(n(49),function(e){var t=e.iconSemanticUI,n=e.header,a=e.content,i=a.main,s=a.secondary,o=e.communication,c=o.way,l=o.resource,u=e.classes,p=u.wrapperClass,m=u.iconClass,f=u.titleClass,d=u.textsClass;return r.a.createElement("div",{className:"contactWay-wrapper ".concat(p)},r.a.createElement("i",{className:"".concat(t," contactWay-icon ").concat(m)}),r.a.createElement("h1",{className:"contactWay-title ".concat(f)},n),r.a.createElement("div",{className:"contactWay-texts ".concat(d)},r.a.createElement("p",null,i),r.a.createElement("p",null,s),r.a.createElement("p",null,c," ",r.a.createElement("span",null,l))))});K.defaultProps={iconSemanticUI:"envelope outline icon",header:"Napisz do nas e-mail",content:{main:"Masz pytanie?",secondary:"Napisz do nas, a na pewno si\u0119 z Tob\u0105 skontaktujemy"},communication:{way:"e-mail:",resource:"minikino@gmail.com"},classes:{wrapperClass:"",iconClass:"",titleClass:"",textsClass:""}};var J=K,q=(n(50),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e))).getVariables=function(){var e=n.wrapperRef.current;return{finalWidthOfWindow:800,childrenNum:e.children.length,wrapper:e}},n.changeToOneColumn=function(e){e.style="grid-template-columns: auto"},n.changeToMultiColumn=function(e,t){t.style="grid-template-columns: repeat(".concat(e,",").concat(100/e,"%)")},n.handleResize=function(){var e=n.getVariables(),t=e.finalWidthOfWindow,a=e.childrenNum,r=e.wrapper;n.setState({windowWidth:window.innerWidth},(function(){E(t,n.state.windowWidth)?n.changeToOneColumn(r):n.changeToMultiColumn(a,r)}))},n.state={count:0,windowWidth:window.innerWidth},n.wrapperRef=r.a.createRef(),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.getVariables(),t=e.finalWidthOfWindow,n=e.childrenNum,a=e.wrapper,r=window.innerWidth;E(t,r)?this.changeToOneColumn(a):this.changeToMultiColumn(n,a),window.addEventListener("resize",this.handleResize),N()}},{key:"shouldComponentUpdate",value:function(e,t){var n,a,r=this.getVariables().finalWidthOfWindow;return!y(this.state.windowWidth,t.windowWidth)||!!(n=b,a=E,function(e,t,r){return n(e,t)&&a(e,r)||n(t,e)&&a(r,e)})(r,this.state.windowWidth,t.windowWidth)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"render",value:function(){return r.a.createElement("div",{className:"contactUs-wrapper",ref:this.wrapperRef},r.a.createElement(J,null),r.a.createElement(J,{iconSemanticUI:"phone volume icon",header:"Zadzwo\u0144 do nas na infolini\u0119",content:{main:"Masz pytanie?",secondary:"Nasi fachowcy czekaj\u0105 na Twoje pytania codziennie od 10:00 do 21:00"},communication:{way:"tel",resource:"+48 666 66 66 66 66"}}))}}]),t}(r.a.Component)),G=n(16),Y=(n(51),function(e){var t=e.reference,n=e.classes,a=n.outerWrapper,i=n.spinnerWrapper,s=n.spinner;return r.a.createElement("div",{ref:t,className:"loadingSpinner-outerWrapper invisible ".concat(a)},r.a.createElement("div",{className:"loadingSpinner-wrapper ".concat(i)},r.a.createElement("div",{className:"loadingSpinner-spinner ".concat(s)})))});Y.defaultProps={classes:{outerWrapper:"",spinnerWrapper:"",spinner:""}};var $=Y,Q=(n(52),function(e){var t=e.moduleName,n=e.title,a=e.formValue,i=e.type,s=e.name,o=e.placeholder,c=e.reference,l=e.minlength,u=void 0===l?3:l,p=e.maxlength,m=void 0===p?20:p,f=e.required,d=void 0===f||f,v=e.onClick,h=e.onChange,w=e.onBlur;return r.a.createElement("div",{className:"field ".concat(t,"-").concat(s,"-wrapper")},r.a.createElement("label",{className:"formInput-label",htmlFor:s},n),r.a.createElement("input",{id:s,className:"formInput-input neutral-input",placeholder:o,name:s,type:i,ref:c,value:a,minLength:u,maxLength:m,required:d,onChange:h,onClick:v,onBlur:w}),r.a.createElement("p",{className:"validation-p"}))}),X=(n(53),function(e){var t=e.classes,n=e.btnText,a=e.reference,i=e.children;return r.a.createElement("button",{className:"submitBtn ".concat(t),type:"submit",ref:a},n,i)});X.defaultProps={classes:"",btnText:"Wy\u015blij"};var ee=function(e,t,n){e.children[2].innerText=n,t.replace("neutral-input","invalid-input")},te=function(e,t){e.children[2].innerText="",t.replace("invalid-input","neutral-input")},ne=function(e,t){var n,a=e.type,r=e.value,i=e.parentNode,s=e.classList;if(R(a,"email"))/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(r)?te(i,s):ee(i,s,n="Niepoprawny email.");else if(b(r.length,t)){var o=R(t,3)?"znaki":"znak\xf3w";n='"'.concat(i.children[0].innerText,'" musi mie\u0107 co najmniej ').concat(t," ").concat(o,"."),ee(i,s,n)}else te(i,s)},ae=(n(54),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e))).renderInputs=function(){return[{title:"Imi\u0119",name:"firstName",placeholder:"min. 3 znaki",formValue:n.state.firstName,type:"text",reference:n.firstNameRef},{title:"Nazwisko",name:"lastName",placeholder:"min. 3 znaki",formValue:n.state.lastName,type:"text",reference:n.lastNameRef},{title:"Email",name:"email",placeholder:"email",formValue:n.state.email,type:"email",reference:n.emailRef},{title:"Has\u0142o",name:"pass",placeholder:"min. 8 znak\xf3w",formValue:n.state.pass,type:"password",minlength:8,reference:n.passRef},{title:"Potwierd\u017a has\u0142o",name:"confirmPass",placeholder:"min. 8 znak\xf3w",formValue:n.state.confirmPass,type:"password",minlength:8,reference:n.confirmPassRef}].map((function(e){var t=e.title,a=e.name,i=e.formValue,s=e.type,o=e.placeholder,c=e.minlength,l=void 0===c?3:c,u=e.maxlength,p=e.reference;return r.a.createElement(Q,{moduleName:"register",key:t,title:t,name:a,placeholder:o,formValue:i,type:s,minlength:l,maxlength:u,reference:p,onChange:function(e){return n.handleInputChange(a,e.target.value)},onBlur:function(e){return ne(e.target,l)}})}))},n.validatePass=function(){if(y(n.state.pass,n.state.confirmPass))throw n.setState({afterSubmitInfo:"Has\u0142a musz\u0105 by\u0107 jednakowe!"},(function(){setTimeout((function(){n.setState({afterSubmitInfo:""})}),1e3)})),new Error("Different passwords!")},n.validateRegisterInfo=function(e,t){var a=n.validateRegisterInfoRef.current,r=!0;R(e,201)||R(e,200)?(n.setState({afterSubmitInfo:"Zarejestrowano"}),a.classList.replace("invalid","valid")):(n.setState({afterSubmitInfo:t}),r=!1),setTimeout((function(){n.setState({afterSubmitInfo:""}),a.classList.replace("valid","invalid"),n.dispatchToLogin(r)}),1e3)},n.dispatchToLogin=function(e){e&&!d("userId")&&n.props.history.push("/login")},n.endRegister=function(){T(n.registerSpinnerRef.current),C(n.registerBtnRef.current,["cursor-pointer"],["cursor-auto"])},n.handleInputChange=function(e,t){n.setState(Object(G.a)({},e,t))},n.handleSubmit=function(e){var t,a,r,i,s;return W.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:e.preventDefault(),I(n.registerBtnRef.current,["cursor-auto"],["cursor-pointer"]),O(n.registerSpinnerRef.current),o.prev=3,n.validatePass(),o.next=11;break;case 7:return o.prev=7,o.t0=o.catch(3),n.endRegister(),o.abrupt("return");case 11:return o.prev=11,t={name:n.state.firstName,surname:n.state.lastName,email:n.state.email,password:n.state.pass,confirmPassword:n.state.confirmPass},o.next=15,W.a.awrap(A({path:"api/user",body:JSON.stringify(t),method:"POST"}));case 15:a=o.sent,r=a.status,L(r),n.endRegister(),n.validateRegisterInfo(r),o.next=28;break;case 22:o.prev=22,o.t1=o.catch(11),i=o.t1.statusCode,s=o.t1.message,n.endRegister(),n.validateRegisterInfo(i,s);case 28:case"end":return o.stop()}}),null,null,[[3,7],[11,22]])},n.state={firstName:"",lastName:"",email:"",pass:"",confirmPass:"",afterSubmitInfo:""},n.firstNameRef=r.a.createRef(),n.lastNameRef=r.a.createRef(),n.emailRef=r.a.createRef(),n.passRef=r.a.createRef(),n.confirmPassRef=r.a.createRef(),n.validateRegisterInfoRef=r.a.createRef(),n.registerSpinnerRef=r.a.createRef(),n.registerBtnRef=r.a.createRef(),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.firstNameRef.current.focus()}},{key:"render",value:function(){return r.a.createElement("div",{className:"register-outerWrapper"},r.a.createElement("div",{className:"register-wrapper"},r.a.createElement("h1",{className:"register-title"},"Rejestracja"),r.a.createElement("form",{className:"register-form",onSubmit:this.handleSubmit,ref:this.registerFormRef},this.renderInputs(),r.a.createElement(X,{classes:"registerBtn cursor-pointer",btnText:"Zarejestruj",reference:this.registerBtnRef},r.a.createElement($,{reference:this.registerSpinnerRef,classes:{outerWrapper:"registerSpinner-outerWrapper",spinner:"registerSpinner"}})),r.a.createElement("p",{ref:this.validateRegisterInfoRef,className:"validate-register-info invalid"},this.state.afterSubmitInfo))))}}]),t}(a.Component)),re=(n(55),function(e){var t=e.logInText;return N(),r.a.createElement("div",{className:"logInNeeded"},t)});re.defaultProps={logInText:"Musisz si\u0119 zalogowa\u0107!"};n(56);var ie=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e))).renderLoginInputs=function(){return[{title:"E-mail",name:"email",formValue:n.state.email,type:"email",reference:n.emailRef},{title:"Has\u0142o",name:"pass",formValue:n.state.pass,type:"password",reference:n.passRef}].map((function(e,t){var a=e.title,i=e.name,s=e.formValue,o=e.type,c=e.reference;return r.a.createElement(Q,{moduleName:"login",key:t,title:a,type:o,name:i,formValue:s,reference:c,onChange:function(e){return n.handleInputChange(i,e.target.value)}})}))},n.endLogin=function(){T(n.loginSpinnerRef.current),C(n.loginBtnRef.current,["cursor-pointer"],["cursor-auto"])},n.handleAutoLogout=function(e){setTimeout((function(){d("expiresIn")&&n.props.history.push("/autologout")}),e-Date.now())},n.handleInputChange=function(e,t){n.setState(Object(G.a)({},e,t))},n.handleSubmit=function(e){var t,a,r,i,s,o,c;return W.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return e.preventDefault(),I(n.loginBtnRef.current,["cursor-auto"],["cursor-pointer"]),O(n.loginSpinnerRef.current),t={email:n.state.email,password:n.state.pass},l.prev=4,l.next=7,W.a.awrap(A({path:"api/login",body:JSON.stringify(t),method:"POST"}));case 7:return a=l.sent,L(a.status),l.next=11,W.a.awrap(a.json());case 11:r=l.sent,i=r.token,s=r.userId,o=r.expiresIn,n.endLogin(),v("userId",s),v("token",i),v("expiresIn",Date.now()+o),n.handleAutoLogout(d("expiresIn")),n.props.history.push("/"),l.next=28;break;case 23:l.prev=23,l.t0=l.catch(4),c=l.t0.message,n.endLogin(),n.setState({afterSubmitInfo:c},(function(){setTimeout((function(){n.setState({afterSubmitInfo:""})}),1e3)}));case 28:case"end":return l.stop()}}),null,null,[[4,23]])},n.state={firstName:"",lastName:"",email:"",pass:"",afterSubmitInfo:""},n.emailRef=r.a.createRef(),n.passRef=r.a.createRef(),n.validateLoginInfoRef=r.a.createRef(),n.loginSpinnerRef=r.a.createRef(),n.loginBtnRef=r.a.createRef(),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;d("userId")?(setTimeout((function(){return e.props.history.goBack()}),1e3),h()):this.emailRef.current.focus()}},{key:"render",value:function(){return d("userId")?r.a.createElement(re,{logInText:"Wylogowano prawid\u0142owo."}):r.a.createElement("div",{className:"login-outerWrapper"},r.a.createElement("div",{className:"login-wrapper"},r.a.createElement("h1",{className:"login-title"},this.props.title),r.a.createElement("form",{className:"login-form",onSubmit:this.handleSubmit},this.renderLoginInputs(),r.a.createElement(X,{classes:"loginBtn cursor-pointer",btnText:"Zaloguj",reference:this.loginBtnRef},r.a.createElement($,{reference:this.loginSpinnerRef,classes:{outerWrapper:"login-spinner-outerWrapper",spinner:"login-spinner"}})),r.a.createElement("p",{ref:this.validateLoginInfoRef,className:"validate-login-info invalid"},this.state.afterSubmitInfo))))}}]),t}(a.Component);ie.defaultProps={title:"Zaloguj"};var se=ie,oe=(n(57),function(e){return b(30,e.length)?"".concat(e.slice(0,30)).concat("..."):e}),ce=function(e){var t=e.movie,n=t.description,a=t.title,i=e.classes,s=i.titleClass,o=i.descriptionClass,c=i.descrSpanClass,l=i.tooltipTextClass,u=r.a.createRef(),p=r.a.createRef();return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"".concat(s," movieInfo-title")},a),r.a.createElement("p",{className:"".concat(o," movieInfo-description movieInfo-tooltip"),onClick:function(){return function(e,t,n,a){R(e.innerText.length,function(e){return 30+e.length}("..."))?(e.innerText=a,t.innerText="Zwi\u0144 opis"):(e.innerText=n,t.innerText="Rozwi\u0144 opis")}(u.current,p.current,oe(n),n)}},r.a.createElement("span",null,"Opis: "),r.a.createElement("span",{className:"".concat(c," movieInfo-descrSpan"),ref:u},oe(n)),r.a.createElement("span",{className:"".concat(l," movieInfo-tooltipText"),ref:p},"Rozwi\u0144 opis")))};ce.defaultProps={classes:{titleClass:"",descriptionClass:"",descrSpanClass:"",tooltipTextClass:""}};var le=ce,ue=function(){return"Data i godzina"},pe=function(e){return new Date(e).toLocaleString(void 0,{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"})},me=function(e,t){var n,a,r,i,s;return W.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,W.a.awrap(A({path:"api/seat/".concat(e),authToken:d("token")}));case 3:return n=o.sent,L(n.status),o.next=7,W.a.awrap(n.json());case 7:return a=o.sent,r=[],i=0,s=[],a.forEach((function(e){var t=e.row,n=e.seatNumber;y(i,t)&&!s.includes(t)?(i=t,s.push(t),r.push({row:t,seats:[n]})):r.forEach((function(e){R(e.row,t)&&e.seats.push(n)}))})),r.sort((function(e,t){return e.row-t.row})).map((function(e){return{row:e.row,seats:e.seats.sort((function(e,t){return e-t}))}})),o.abrupt("return",r);case 16:o.prev=16,o.t0=o.catch(0),_(t,o.t0);case 19:case"end":return o.stop()}}),null,null,[[0,16]])},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){var t=e.seat_id;return{row:t.row,seats:t.seatNumber}}))},de=function(){return{choosenRow:null,choosenSeat:null,freeSeats:[],rowsList:[]}},ve=(n(58),function(e){var t=e.seat,n=e.screening,a=e.classes,i=a.timeClass,s=a.seatClass,o=a.wrapperClass;return y(t,void 0)?r.a.createElement("div",{className:"".concat(o," screeningInfo-wrapper")},r.a.createElement("p",{className:"".concat(i," screeningInfo-time")},r.a.createElement("span",null,"Godzina: ")," ",pe(n.time)),r.a.createElement("p",{className:"".concat(s," screeningInfo-seat")},r.a.createElement("span",null,"Sala: "),t.room_id.name,r.a.createElement("span",null,", Rz\u0105d: "),t.row,r.a.createElement("span",null,", Miejsce: "),t.seatNumber)):null});ve.defaultProps={classes:{timeClass:"",seatClass:"",wrapperClass:""}};var he=ve,we=function(e){var t=e.reservations,n=e.noTicketsText;return r.a.createElement("div",{className:"myTickets-wrapper"},function(e,t){return b(0,e.length)?e.map((function(e){var t=e.screening_id,n=e.seat_id,a=e._id,i=t.movie_id,s=i.imageUrl,o=i.title,c=i.description;return r.a.createElement("div",{className:"myTickets-innerWrapper",key:a},r.a.createElement(F,{src:"".concat(P).concat(s),alt:o}),r.a.createElement("div",{className:"myTickets-utils"},r.a.createElement(le,{movie:{description:c,title:o}}),r.a.createElement(he,{seat:n,screening:t})))})):r.a.createElement("div",{className:"myTickets-noTickets"},t)}(t,n))};we.defaultProps={noTicketsText:"Brak bilet\xf3w do wy\u015bwietlenia"};n(25);var ge=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={user_id:d("userId"),reservations:null},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e,t;return W.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(R(this.state.user_id,"")||R(this.state.user_id,null)){n.next=15;break}return n.prev=1,n.next=4,W.a.awrap(A({path:"api/reservation/".concat(this.state.user_id,"/none"),authToken:d("token")}));case 4:return e=n.sent,L(e.status),n.next=8,W.a.awrap(e.json());case 8:t=n.sent,this.setState({reservations:t}),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(1),_(this.props.history,n.t0);case 15:case"end":return n.stop()}}),null,this,[[1,12]])}},{key:"render",value:function(){return function(e){var t=e.user_id,n=e.reservations;return R(t,"")||R(t,null)?r.a.createElement(re,null):R(n,null)?r.a.createElement(B,null):r.a.createElement("div",{className:"myTickets-outerWrapper"},r.a.createElement(we,{reservations:n}))}(this.state,this.props)}}]),t}(a.Component),be=(n(59),function(e){var t=e.title,n=e.prices,a=e.classes,i=a.titleClass,s=a.tableClass,o=a.rowClass;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"priceList-title ".concat(i)},t),r.a.createElement("table",{className:"priceList-table ".concat(s)},r.a.createElement("tbody",null,function(e,t){return e.map((function(e,n){return r.a.createElement("tr",{className:"priceList-row ".concat(t),key:n},e)}))}(function(e){var t=[];for(var n in e)t.push(e[n].map((function(e,t){return r.a.createElement("td",{key:t},e)})));return t}(n),o))))});be.defaultProps={classes:{titleClass:"",tableClass:"",rowClass:""}};var Ee=be,ye={twoD:{openDays:["","Poniedzia\u0142ek","Wtorek-Pi\u0105tek","Weekend"],normalTicket:["Bilet normalny","15 z\u0142","21 z\u0142","25z\u0142"],kidPupilTicket:["Dzieci\u0119cy i Studencki","10z\u0142","16z\u0142","16z\u0142"],senior:["Emeryci","12z\u0142","17z\u0142","18z\u0142"]},threeD:{openDays:["","Poniedzia\u0142ek","Wtorek-Pi\u0105tek","Weekend"],normalTicket:["Bilet normalny","25 z\u0142","28 z\u0142","30z\u0142"],kidPupilTicket:["Dzieci\u0119cy i Studencki","18z\u0142","20z\u0142","22z\u0142"],senior:["Emeryci","20z\u0142","22z\u0142","26z\u0142"]}},Re=(n(60),function(e){return r.a.createElement("div",{className:"prices-wrapper"},r.a.createElement("div",{className:"prices-content"},r.a.createElement("h1",{className:"prices-title"},"Ceny bilet\xf3w"),r.a.createElement(Ee,{prices:ye.twoD,title:"FILMY 2D"}),r.a.createElement(Ee,{prices:ye.threeD,title:"FILMY 3D"})))}),ke=(n(61),function(e){return function(e){var t=e._id,n=e.imageUrl,a=e.title,i=e.description;return r.a.createElement("div",{className:"movie-wrapper",key:t},r.a.createElement(F,{src:"".concat(P).concat(n),alt:a}),r.a.createElement("div",{className:"movie-utils"},r.a.createElement(le,{movie:{description:i,title:a}})))}(e.movie)}),Ne=n(18),Se=(n(62),function(e,t,n,a,i){return function(e){return!e.every((function(e){return R(e,void 0)}))}(t)?r.a.createElement(r.a.Fragment,null,r.a.createElement("option",null,e),t.map((function(e,t){return r.a.createElement("option",{key:t,value:a(e)},n(e))}))):r.a.createElement("option",null,i)}),xe=function(e){var t=e.selectName,n=e.classes,a=e.labelText,i=e.spinner,s=e.optionTitle,o=e.data,c=e.optionContent,l=e.optionValue,u=e.fallbackValue,p=e.handler,m=e.reference;return r.a.createElement("label",null,r.a.createElement("div",{style:{display:"inline"}},a),i,r.a.createElement("select",{name:t,className:n,ref:m,onChange:p},Se(s,o,c,l,u)))};xe.defaultProps={classes:"",fallbackValue:"Brak dost\u0119pnych termin\xf3w"};var je=xe,Oe=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e))).setAnyState=function(e,t){var a=Object.assign({},Object(Ne.a)({},n.state),e);n.setState(a,t)},n.checkAvailableSeats=function(e){var t,a;return W.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,W.a.awrap(A({path:"api/reservation/none/".concat(n.state.screening_id),authToken:d("token")}));case 3:return a=r.sent,L(a.status),r.next=7,W.a.awrap(a.json());case 7:t=r.sent,r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),_(n.props.history,r.t0);case 13:n.setAnyState({takenSeats:fe(t)},(function(){return W.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W.a.awrap(n.calculateFreeSeats());case 2:e();case 3:case"end":return t.stop()}}))}));case 14:case"end":return r.stop()}}),null,null,[[0,10]])},n.getScreeningData=function(){var e,t,a,r;return W.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(!y(n.state.screening_id,null)){i.next=20;break}return O(n.loadingSpinnerRef.current),i.prev=2,i.next=5,W.a.awrap(A({path:"api/screening/".concat(n.state.movie_id,"/").concat(n.state.screening_id),authToken:d("token")}));case 5:return t=i.sent,L(t.status),i.next=9,W.a.awrap(t.json());case 9:e=i.sent,i.next=15;break;case 12:i.prev=12,i.t0=i.catch(2),_(n.props.history,i.t0);case 15:a=function(){n.setAnyState(Object(Ne.a)({},de()),(function(){n.setAnyState({room:e.room_id.name,rowsList:n.state.rowsWithSeats.map((function(e){return e.row}))},(function(){T(n.loadingSpinnerRef.current)}))}))},r=e.room_id._id,n.setAnyState({room_id:r},(function(){return W.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.a.awrap(n.checkAvailableSeats(a));case 2:case"end":return e.stop()}}))})),i.next=21;break;case 20:n.setAnyState(Object(Ne.a)({},de(),{room:"",room_id:""}));case 21:case"end":return i.stop()}}),null,null,[[2,12]])},n.afterReservationUserInfo=function(e,t,a,r){O(e,t,a),setTimeout((function(){n.setAnyState({afterSubmitInfo:""},(function(){T(e),n.enableReservation()}))}),r)},n.checkReservationAttempt=function(e,t,a,r,i){n.setAnyState({afterSubmitInfo:e},(function(){n.afterReservationUserInfo(t,a,r,i)}))},n.calculateFreeSeats=function(){var e;return W.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W.a.awrap(me(n.state.room_id,n.props.history));case 2:(e=t.sent).forEach((function(t,a){var r=t.row,i=t.seats;n.state.takenSeats.forEach((function(t){var n=t.row,s=t.seats;R(n,r)&&i.forEach((function(t){R(t,s)&&delete e[a].seats[e[a].seats.indexOf(t)]}))}))})),n.setAnyState({rowsWithSeats:e});case 5:case"end":return t.stop()}}))},n.checkConcurrentReservation=function(){var e,t,a,r,i;return W.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,W.a.awrap(A({path:"api/reservation/none/".concat(n.state.screening_id),authToken:d("token")}));case 3:return t=s.sent,L(t.status),s.next=7,W.a.awrap(t.json());case 7:e=s.sent,s.next=13;break;case 10:s.prev=10,s.t0=s.catch(0),_(n.props.history,s.t0);case 13:return a=fe(e),r={row:n.state.choosenRow,seats:n.state.choosenSeat},i=a.some((function(e){return R(e.row,r.row)&&R(e.seats,r.seats)})),s.abrupt("return",i);case 17:case"end":return s.stop()}}),null,null,[[0,10]])},n.reservationServerError=function(e){n.checkReservationAttempt(e.message,n.afterSubmitInfoRef.current,["validSubmit"],["invalidSubmit"],3e3)},n.makeNewReservation=function(){var e,t,a,r;return W.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,W.a.awrap(n.checkConcurrentReservation());case 3:if(!i.sent){i.next=5;break}throw new Error(M.concurrentReserv);case 5:return e={user_id:n.state.user_id,seat_id:n.state.seat_id,screening_id:n.state.screening_id},i.next=8,W.a.awrap(A({path:"api/reservation/",authToken:d("token"),method:"POST",body:JSON.stringify(e)}));case 8:t=i.sent,a=t.status,L(a),n.checkReservationAttempt("Zarezerwowano",n.afterSubmitInfoRef.current,["invalidSubmit"],["validSubmit"],3e3),r=function(){var e=n.state.rowsWithSeats[n.state.choosenRow-1].seats;n.setAnyState({freeSeats:e,choosenSeat:null},(function(){n.enableReservation()}))},n.checkAvailableSeats(r),i.next=19;break;case 16:i.prev=16,i.t0=i.catch(0),n.reservationServerError(i.t0);case 19:case"end":return i.stop()}}),null,null,[[0,16]])},n.enableReservation=function(){T(n.reservationSpinnerRef.current),C(n.reservationBtnRef.current,["cursor-pointer"],["cursor-auto"])},n.handleDateOptionChange=function(e){var t;return W.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:e.persist(),t=R(n.selectDateRef.current.value,ue())?null:n.selectDateRef.current.value,n.setAnyState({screening_id:t},(function(){return W.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:n.getScreeningData();case 1:case"end":return e.stop()}}))}));case 3:case"end":return a.stop()}}))},n.handleRowOptionChange=function(){var e,t=Number(n.selectRowRef.current.value);y(t.toString(),"NaN")?e=n.state.rowsWithSeats[t-1].seats:(t=null,e=[]),n.setAnyState({freeSeats:[]},(function(){n.setAnyState({freeSeats:e,choosenRow:t,choosenSeat:null})}))},n.handleSeatOptionChange=function(e){var t=Number(n.selectSeatRef.current.value);n.setAnyState({choosenSeat:t})},n.handleSubmit=function(e){var t,a,r;return W.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(e.preventDefault(),!(R(n.state.choosenRow,null)||R(n.state.choosenSeat,null)||R(n.state.screening_id,null))){i.next=5;break}n.checkReservationAttempt("Musisz dokona\u0107 wyboru",n.afterSubmitInfoRef.current,["validSubmit"],["invalidSubmit"],1500),i.next=22;break;case 5:return I(n.reservationBtnRef.current,["cursor-auto"],["cursor-pointer"]),O(n.reservationSpinnerRef.current),i.prev=7,i.next=10,W.a.awrap(A({path:"api/seat/".concat(n.state.room_id,"/").concat(n.state.choosenRow,"/").concat(n.state.choosenSeat),authToken:d("token")}));case 10:return t=i.sent,L(t.status),i.next=14,W.a.awrap(t.json());case 14:a=i.sent,r=a._id,n.setAnyState({seat_id:r},n.makeNewReservation),i.next=22;break;case 19:i.prev=19,i.t0=i.catch(7),n.reservationServerError(i.t0);case 22:case"end":return i.stop()}}),null,null,[[7,19]])},n.state={movie_id:null,user_id:n.props.user_id,screenings:[],screening_id:null,room:"",room_id:null,rowsList:[],rowsWithSeats:[],immutableRows:[],reservationDone:!1,takenSeats:[],freeSeats:[],choosenRow:null,choosenSeat:null,seat_id:"",afterSubmitInfo:"",reservation:{}},n.selectDateRef=r.a.createRef(),n.selectRowRef=r.a.createRef(),n.selectSeatRef=r.a.createRef(),n.afterSubmitInfoRef=r.a.createRef(),n.loadingSpinnerRef=r.a.createRef(),n.reservationSpinnerRef=r.a.createRef(),n.reservationBtnRef=r.a.createRef(),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e,t,n=this;return W.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return O(this.loadingSpinnerRef.current),a.prev=1,a.next=4,W.a.awrap(A({path:"api/screening/".concat(this.props.movie_id,"/").concat(this.props.screening_id),authToken:d("token")}));case 4:return t=a.sent,L(t.status),a.next=8,W.a.awrap(t.json());case 8:e=a.sent,a.next=14;break;case 11:a.prev=11,a.t0=a.catch(1),_(this.props.history,a.t0);case 14:this.setAnyState({screenings:e},(function(){T(n.loadingSpinnerRef.current)}));case 15:case"end":return a.stop()}}),null,this,[[1,11]])}},{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"buyTicket-wrapper"},r.a.createElement(je,{classes:"data-select",labelText:"Wybierz dat\u0119 seansu:",optionTitle:ue(),spinner:r.a.createElement($,{reference:this.loadingSpinnerRef}),data:this.state.screenings,optionContent:function(e){return pe(e.time)},optionValue:function(e){return e._id},handler:this.handleDateOptionChange,reference:this.selectDateRef}),r.a.createElement("label",null,"Sala: ",this.state.room),r.a.createElement(je,{selectName:"row",classes:"row-select",labelText:"Rz\u0105d:",optionTitle:"Wybierz rz\u0105d",data:this.state.rowsList,optionContent:function(e){return e},optionValue:function(e){return e},handler:this.handleRowOptionChange,reference:this.selectRowRef}),r.a.createElement(je,{selectName:"seat",classes:"seat-select",labelText:"Miejsce:",optionTitle:"Wybierz miejsce",data:this.state.freeSeats,optionContent:function(e){return e},optionValue:function(e){return e},handler:this.handleSeatOptionChange,reference:this.selectSeatRef}),r.a.createElement(X,{btnText:"Zarezerwuj",classes:"reservationBtn cursor-pointer",reference:this.reservationBtnRef},r.a.createElement($,{reference:this.reservationSpinnerRef,classes:{outerWrapper:"reservSpinner-outerWrapper",spinner:"reservSpinner"}})),r.a.createElement("p",{className:"afterSubmit invisible",ref:this.afterSubmitInfoRef},this.state.afterSubmitInfo)))}}]),t}(a.Component),Te=(n(63),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e))).renderReservation=function(){return R(n.state.user_id,"")||R(n.state.user_id,null)?r.a.createElement(re,null):R(n.state.movie,null)?r.a.createElement(B,null):r.a.createElement("div",{className:"reservation-outerWrapper"},r.a.createElement("div",{className:"reservation-wrapper",ref:n.wrapperRef},r.a.createElement("div",{className:"reservation-itemWrapper"},r.a.createElement(ke,{movie:n.state.movie})),r.a.createElement("div",{className:"reservation-itemWrapper"},r.a.createElement(Oe,{history:n.props.history,movie_id:n.state.movie_id,user_id:n.state.user_id}))))},n.state={user_id:d("userId"),movie_id:"",movie:null},n.wrapperRef=r.a.createRef(),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e,t,n;return W.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(e=d("movieId"),R(this.state.user_id,"")||R(this.state.user_id,null)){a.next=16;break}return a.prev=2,a.next=5,W.a.awrap(A({path:"api/movie/".concat(e),authToken:d("token")}));case 5:return t=a.sent,L(t.status),a.next=9,W.a.awrap(t.json());case 9:n=a.sent,this.setState({movie_id:e,movie:n}),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(2),_(this.props.history,a.t0);case 16:case"end":return a.stop()}}),null,this,[[2,13]])}},{key:"componentDidUpdate",value:function(){N()}},{key:"render",value:function(){return this.renderReservation()}}]),t}(a.Component)),Ie=(n(64),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={errMsg:"",errCode:0},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){if(N(),this.props.history.location.state){var e=this.props.history.location.state.err,t=e.message,n=e.statusCode;this.setState({errMsg:t,errCode:R(n,void 0)?500:n})}else this.setState({errMsg:"Wyst\u0105pi\u0142 b\u0142\u0105d. Spr\xf3buj ponownie p\xf3\u017aniej.",errCode:500})}},{key:"render",value:function(){return r.a.createElement("div",{className:"serverError-outerWrapper"},r.a.createElement("div",{className:"serverError-wrapper"},r.a.createElement("h1",null,"Error ".concat(this.state.errCode)),r.a.createElement("h2",null,"".concat(this.state.errMsg))))}}]),t}(r.a.PureComponent)),Ce=(n(65),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){N(),h()}},{key:"render",value:function(){return r.a.createElement("div",{className:"autologout-wrapper"},r.a.createElement("h1",{className:"autologout-info"},this.props.infoText))}}]),t}(r.a.Component));Ce.defaultProps={infoText:"Zosta\u0142e\u015b automatycznie wylogowany."};var ze="",We=[{path:"/",component:H},{path:"/contact",component:q},{path:"/register",component:ae},{path:"/login",component:se},{path:"/mytickets",component:ge},{path:"/prices",component:Re},{path:"/reservation",component:Te},{path:"/servererror",component:Ie},{path:"/autologout",component:Ce}].map((function(e){var t=e.path,n=e.component;return{path:"".concat(ze).concat(t),exact:!0,component:n}})),_e=[{to:"".concat(ze,"/"),content:"Oferta",name:"Homepage"},{to:"".concat(ze,"/prices"),content:"Cennik",name:"PriceList"},{to:"".concat(ze,"/mytickets"),content:"Moje bilety",name:"MyTickets"},{to:"".concat(ze,"/register"),content:"Rejestracja",name:"Register"},{to:"".concat(ze,"/login"),content:"Zaloguj",name:"Login"}];n(66);o.b.defaultProps={className:"navBar-item"};var Me=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e))).setLoginBtnText=function(){return d("userId")?"Wyloguj":"Zaloguj"},n.handleWindowResize=function(){E(window.innerWidth,660)?n.setState({dropdown:!1},(function(){j(n.wrapperRef.current,["dropdownNav","invisible"],["horizontalNav"])})):n.setState({dropdown:!0,expanded:!1},(function(){j(n.wrapperRef.current,["horizontalNav"],["dropdownNav"])}))},n.setActiveNavTab=function(){var e=Array.from(n.wrapperRef.current.children),t=e.find((function(e){return R(e.pathname,n.state.currentPathName)}));e.forEach((function(e){return x(e,"navBar-activeItem")})),t&&S(t,"navBar-activeItem")},n.handleIconClick=function(){n.state.expanded?(j(n.wrapperRef.current,["visible"],["invisible"]),n.setState({expanded:!1})):(j(n.wrapperRef.current,["invisible"],["visible"]),n.setState({expanded:!0}))},n.hideNavLinks=function(e){e&&setTimeout((function(){n.setState({expanded:!1},(function(){j(n.wrapperRef.current,["visible"],["invisible"])}))}),250)},n.hideNavLinksWrapperFunc=function(){return n.hideNavLinks(n.state.dropdown)},n.renderLinks=function(){return _e.map((function(e,t){var a=e.to,i=e.content,s=e.name;return R(s,"Login")&&(i=n.state.loginBtn),r.a.createElement(o.b,{key:t,to:a},i)}))},n.renderIcon=function(){return r.a.createElement(w.a,{className:"navBar-menuIcon",icon:g.a,onClick:n.handleIconClick})},n.renderDropdownNav=function(){return n.renderHorizontalNav(n.renderIcon)},n.renderHorizontalNav=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};return r.a.createElement("div",{className:"navBar-outerWrapper",ref:n.outerWrapperRef,tabIndex:"0"},e(),r.a.createElement("div",{className:"navBar-wrapper",ref:n.wrapperRef},n.renderLinks()))},n.state={loginBtn:"",windowWidth:window.innerWidth,currentPathName:n.props.location.pathname,expanded:!1,dropdown:!!E(660,window.innerWidth)},n.inputRef=r.a.createRef(),n.wrapperRef=r.a.createRef(),n.outerWrapperRef=r.a.createRef(),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({loginBtn:this.setLoginBtnText()}),this.state.dropdown?j(this.wrapperRef.current,["horizontalNav"],["dropdownNav"]):j(this.wrapperRef.current,["dropdownNav"],["horizontalNav"]),window.addEventListener("resize",this.handleWindowResize),this.outerWrapperRef.current.addEventListener("blur",this.hideNavLinksWrapperFunc),this.setActiveNavTab()}},{key:"componentDidUpdate",value:function(){var e=this;this.setState({loginBtn:this.setLoginBtnText(),currentPathName:this.props.location.pathname},(function(){e.setActiveNavTab()}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleWindowResize),this.outerWrapperRef.current.removeEventListener("blur",this.hideNavLinksWrapperFunc)}},{key:"render",value:function(){return this.state.dropdown?this.renderDropdownNav():this.renderHorizontalNav()}}]),t}(r.a.PureComponent),Le=Object(f.e)(Me),Pe=(n(67),function(){return r.a.createElement("div",{className:"item attribution"},r.a.createElement("a",{className:"item",href:"http://loading.io",target:"blank"},'the spinner "Ellipsis" is provided by loading.io'))}),Ae=function(e){var t=e.className;return e.cinemasList.map((function(e,n){var a=e.content;return r.a.createElement("div",{className:t,key:n},a)}))};Ae.defaultProps={className:"item"};var De=Ae,Be=[{content:"Katowice"},{content:"Krak\xf3w"},{content:"\u0141\xf3d\u017a"},{content:"Pozna\u0144"},{content:"Sopot"},{content:"Warszawa"},{content:"Wroc\u0142aw"},{content:"Zgorzelec"}],Ve=function(){return r.a.createElement("div",{className:"item"},r.a.createElement("h2",null,"NASZE KINA"),r.a.createElement("div",{className:"ui list"},r.a.createElement(De,{cinemasList:Be})))},Fe=function(){return r.a.createElement("div",{className:"item"},r.a.createElement("h2",null,"KONTAKT"),r.a.createElement("div",{className:"ui list"},r.a.createElement(o.b,{to:"".concat(ze,"/contact"),className:"item"},"Kontakt")))},Ue=function(e){var t=e.dataList;return r.a.createElement("div",{className:"item"},r.a.createElement("h2",null,"APLIKACJA MINIKINO"),r.a.createElement("div",{className:"ui list"},t.map((function(e,t){var n=e.className,a=e.src,i=e.alt;return r.a.createElement("div",{key:t,className:"item"},r.a.createElement("img",{className:n,src:a,alt:i}))}))))},Ze=[{className:"footer-app-and",src:"img/app-and.jpg",alt:"Android"},{className:"footer-app-ios",src:"img/app-mob.jpg",alt:"IOS"}],He=(n(68),function(){return r.a.createElement("div",{className:"footer-outerWrapper"},r.a.createElement("div",{className:"footer-wrapper"},r.a.createElement(Ve,null),r.a.createElement(Ue,{dataList:Ze}),r.a.createElement(Fe,null)),r.a.createElement(Pe,null))}),Ke=(n(69),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e))).handleAutoLogout=function(e){Date.now()>e?h():setTimeout((function(){n.props.history.push("/autologout")}),e-Date.now())},n.renderRouting=function(){return We.map((function(e,t){var n=e.path,a=e.component,i=e.exact;return r.a.createElement(f.a,{key:t,path:n,exact:i,component:a})}))},n.appWrapperRef=r.a.createRef(),n.mainContainerRef=r.a.createRef(),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){d("expiresIn")&&this.handleAutoLogout(d("expiresIn"))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Le,null),r.a.createElement("div",{className:"main-container",ref:this.mainContainerRef},this.renderRouting()),r.a.createElement(He,null))}}]),t}(r.a.Component)),Je=Object(f.e)(Ke);s.a.render(r.a.createElement(o.a,null,r.a.createElement(Je,null)),document.querySelector("#root"))}]),[[31,1,2]]]);
//# sourceMappingURL=main.73602257.chunk.js.map